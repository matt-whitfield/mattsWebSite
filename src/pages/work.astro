---

import Layout from '../layouts/Layout.astro';
import ContactCTA from '../components/ContactCTA.astro';
import StyledLink from '../components/StyledLink.astro';
import CaseStudyCard from '../components/CaseStudyCard.astro'; // Temporarily removed for launch
import TestimonialSection from '../components/TestimonialSection.astro';
import ProcessSection from '../components/ProcessSection.astro';
import PriceSection from '../components/PriceSection.astro';
import { getCollection } from 'astro:content'; // Temporarily removed for launch

// Case studies temporarily disabled for launch
const caseStudies = await getCollection('case-studies');
caseStudies.sort((a, b) => {
  const dateA = a.data.publishDate ?? new Date(0);
  const dateB = b.data.publishDate ?? new Date(0);
  return dateB.getTime() - dateA.getTime();
});

// Industry categories temporarily disabled for launch
// const industryCategories = [
//   { label: "All", value: "all" },
//   { label: "Food & Beverage", value: "food" },
//   { label: "Services", value: "services" },
//   { label: "E-commerce", value: "ecommerce" },
//   { label: "Lead Generation", value: "leads" },
// ];

const pageTitle = "What I Do | Matt Whitfield - Web Designer & Developer";
const pageDescription = "Comprehensive web design, development, and consulting services. Explore service packages, my work process, and ongoing support options.";
const pageImage = "/images/matt-b-and-rbd-oregon-coast-2024.webp";
---

<Layout 
	title={pageTitle}
	description={pageDescription}
	image={pageImage}
>
	<main class="bg-white">
		<!-- Hero Section (Adapted from services.astro) -->
		<section class="w-full relative pt-32 pb-20">
			<div class="absolute inset-0 w-full h-full bg-gradient-to-br from-white via-white to-primary/10"></div>
			<div class="page-container relative z-1">
				<h1 class="neo-heading text-5xl md:text-6xl lg:text-7xl mb-8 text-text">What I Do</h1>
				<div class="neo-card-base py-10 px-8 md:px-12 mt-8 mb-12 relative max-w-prose">
					<h3 class="neo-heading text-2xl md:text-3xl mb-6 text-text">Your partner in crafting impactful digital experiences.</h3>
					<p class="neo-text text-lg mb-6">
						I combine strategic web design and development with a clear, collaborative process to help small businesses and creative teams thrive online. From initial concept to launch and beyond, I'm here to build a website that not only looks great but also achieves your specific goals.
					</p>
					<div class="absolute -top-6 -right-6 p-2 bg-primary border-3 border-black text-white font-serif font-bold text-base uppercase rotate-3">
						Full Service
					</div>
				</div>
			</div>
		</section>


		<!-- Projects Grid Section - Temporarily Hidden for Launch -->
		<section id="projects-grid-section" class="w-full relative py-16">
			<div class="absolute inset-0 w-full h-full bg-gradient-to-br from-white via-white to-coral/10"></div>
			<div class="page-container relative z-1">
				<div class="text-center mb-12">
					<h2 class="neo-heading text-4xl md:text-5xl mb-4 text-text">See It In Action</h2>
					<p class="neo-text text-lg max-w-prose mx-auto">Here are some examples of how I've helped businesses like yours succeed online.</p>
				</div>
				
				<div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
					{caseStudies.map((study) => (
						<div class="flex flex-col h-full">
							<CaseStudyCard
								image={study.data.image}
								imageAlt={`${study.data.title} case study thumbnail`}
								title={study.data.title}
								description={study.data.description}
								link={`/case-studies/${study.slug}`}
								color={study.data.color}
							/>
						</div>
					))}
				</div>
			</div>
		</section>



	   <!-- Process Section -->
	   <ProcessSection />

	   <!-- Testimonials Section -->
	   <TestimonialSection />

	   <!-- Pricing Section (reusable component) -->
	   <PriceSection
		 title="Pricing"
		 subtitle="Website Design & Development"
		 cards={[
		   {
			 title: 'Starter Site',
			 price: 'from $2,000',
			 label: 'Entry level',
			 description: 'A simple, stylish site to get your business online fast. Perfect for new businesses, solo professionals, or those upgrading from DIY.',
			 features: [
			   { text: '3–5 custom-designed pages' },
			   { text: 'Mobile-friendly, fast, and SEO-ready' },
			   { text: 'Built on Webflow, WordPress, or Squarespace' },
			   { text: 'Email/contact form and Google profile help' },
			 ],
			 color: 'mint',
			 ctaText: 'Get Quote',
			 ctaLink: '/contact',
		   },
		   {
			 title: 'Professional Package',
			 price: 'from $4,500',
			 label: 'Most popular',
			 description: 'A more strategic site with content, functionality, and polish. Great for growing businesses who want to drive more leads, bookings, or sales.',
			 features: [
			   { text: 'Up to 8 pages + blog or CMS' },
			   { text: 'Copywriting support' },
			   { text: 'Booking, menu, or quote form integrations' },
			   { text: 'Animations, interactions, and training' },
			   { text: '30-day post-launch support' },
			 ],
			 color: 'coral',
			 ctaText: 'Get Quote',
			 ctaLink: '/contact',
		   },
		   {
			 title: 'Custom Build',
			 price: 'from $7,500',
			 label: 'Enterprise',
			 description: 'For teams with technical needs, performance goals, or big ideas. Fully custom code and modern frameworks—Astro, Next.js, headless CMS, etc.',
			 features: [
			   { text: 'UX design and frontend development' },
			   { text: 'CMS or headless content models' },
			   { text: 'Fast, scalable, SEO-optimized' },
			   { text: 'Hosting and deployment support' },
			 ],
			 color: 'blue',
			 ctaText: 'Get Quote',
			 ctaLink: '/contact',
		   },
		 ]}
		 note="* Prices are estimates. Everything is billed at $80/hour."
	   />

	   <!-- Support & Consulting Section (reusable component) -->
	   <PriceSection
		 title="Support & Consulting"
		 subtitle="Ongoing help for your website and business"
		 bgGradient="bg-gradient-to-tr from-white via-white to-purple/10"
		 cards={[
		   {
			 title: 'Website Consulting',
			 price: '$100/hr',
			 label: 'Hourly',
			 description: "Need help improving your current site? Want a second opinion before you rebuild? Let's troubleshoot, ideate, and make a plan.",
			 features: [
			   { text: 'UX, performance, or content audits' },
			   { text: 'Platform guidance and automation tips' },
			   { text: 'Small updates or tweaks' },
			 ],
			 color: 'purple',
			 ctaText: 'Schedule a Session',
			 ctaLink: '/contact?service=website-consulting',
		   },
		   {
			 title: 'Ongoing Care Plans',
			 price: 'from $150/mo',
			 label: 'Monthly',
			 description: "Because websites don't stop working when you launch them.",
			 features: [
			   { text: 'Essentials Plan – $150/mo: Site updates + monitoring, security + backups, monthly performance check' },
			   { text: 'Pro Plan – $350/mo: Everything in Essentials, 2 hours of dev/design updates, quarterly check-ins + priority support' },
			 ],
			 color: 'lime',
			 ctaText: 'Get Website Support',
			 ctaLink: '/contact?service=ongoing-care',
		   },
		 ]}
	   />

		<!-- Contact CTA Section (from services.astro) -->
		<section class="w-full relative py-28">
			<div class="absolute inset-0 w-full h-full bg-gradient-to-br from-white via-white to-primary/10"></div>
			<div class="page-container relative z-1">
				<ContactCTA
					title="Ready to elevate your online presence?"
					description="Let's discuss your project and how I can help you achieve your business goals."
					ctaText="Start a Conversation"
					ctaLink="/contact"
					boxTitle="Get in Touch"
					color="primary"
				/>
			</div>
		</section>
	</main>
</Layout>

<style>
	.aspect-video { /* If CaseStudyCard uses this, and it's not global */
		aspect-ratio: 16/9;
	}
</style>



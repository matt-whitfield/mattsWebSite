---
interface Props {
  title?: string;
  progressColor?: 'primary' | 'coral' | 'blue' | 'mint' | 'purple' | 'lime';
  links: Array<{
    href: string;
    label: string;
    color?: 'primary' | 'coral' | 'blue' | 'mint' | 'purple' | 'lime';
  }>;
}

const {
  title = "Page Navigation",
  progressColor = 'primary',
  links
} = Astro.props;
---

<nav id="side-nav" class="fixed top-1/2 right-6 transform -translate-y-1/2 z-50 hidden lg:block">
  <div class="bg-white border-3 border-black shadow-neo p-4 max-w-xs">
    <!-- Navigation Header -->
    <div class={`bg-${progressColor} border-2 border-black px-3 py-2 mb-4 transform -rotate-1`}>
      <span class="font-serif font-bold text-white text-sm uppercase tracking-wide">{title}</span>
    </div>
    
    <!-- Navigation Links -->
    <ul class="space-y-2 text-sm">
      {links.map((link) => (
        <li>
          <a 
            href={link.href} 
            class={`nav-link block px-3 py-2 font-serif font-medium transition-all duration-200 hover:bg-${link.color} ${link.color === 'mint' || link.color === 'lime' ? 'hover:text-black' : 'hover:text-white'} border-2 border-transparent hover:border-black`}
            data-section={link.href.substring(1)}
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
    
    <!-- Progress Indicator -->
    <div class="mt-4 pt-4 border-t-2 border-black">
      <div class="text-xs font-serif font-bold uppercase tracking-wide mb-2 text-center">Reading Progress</div>
      <div class="w-full bg-lightgray border-2 border-black h-3">
        <div id="progress-bar" class={`bg-${progressColor} h-full border-r-2 border-black transition-all duration-300`} style="width: 0%;"></div>
      </div>
    </div>
  </div>
</nav>
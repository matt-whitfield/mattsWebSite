---
import StyledLink from './StyledLink.astro';

interface Props {
  title: string;
  description?: string;
  ctaText?: string;
  ctaLink?: string;
  boxTitle?: string;
  color?: 'primary' | 'mint' | 'coral' | 'purple' | 'blue' | 'lime' | 'highlight';
}

const {
  title,
  description = "Let's talk about your project and create something that helps your business thrive online.",
  ctaText = "start a project",
  ctaLink = "/contact",
  boxTitle = "Get in touch",
  color = 'primary'
} = Astro.props;
---

<div class="cta-container">
  <!-- Decorative elements -->
  <div class={`absolute -bottom-3 -left-3 h-6 w-6 bg-${color} border-3 border-black`}></div>
  <div class="absolute -top-3 right-12 h-6 w-6 bg-highlight border-3 border-black"></div>
  
  <div class="flex-1 relative">
    <h2 class="neo-heading text-4xl md:text-5xl mb-8">{title}</h2>
    {description && <p class="neo-text text-lg mb-8 max-w-xl">{description}</p>}
    
    <!-- Decorative pattern -->
    <div class="absolute -z-10 bottom-0 left-0 w-32 h-32 bg-[repeating-linear-gradient(45deg,rgba(241,91,181,0.05),rgba(241,91,181,0.05)_10px,transparent_10px,transparent_20px)]"></div>
  </div>
  
  <div class="flex-shrink-0 relative">
    <div class="cta-box">
      <div class="cta-box-inner">
        <div class="cta-box-title">{boxTitle}</div>
        <StyledLink href={ctaLink} variant={color === 'highlight' ? 'secondary-highlight' : color}>{ctaText}</StyledLink>
      </div>
    </div>
    <!-- Corner accents on the box -->
    <div class={`absolute -top-2 -right-2 w-4 h-4 bg-${color}`}></div>
    <div class="absolute -bottom-2 -left-2 w-4 h-4 bg-mint"></div>
  </div>
</div>

<style>
  /* Special styling for the CTA box shadow */
  .cta-box {
    position: relative;
    background: black;
    padding: 1px;
  }
  
  .cta-box::after {
    content: "";
    position: absolute;
    top: 8px;
    left: 8px;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      -45deg,
      rgba(255,107,53,0.15),
      rgba(255,107,53,0.15) 5px,
      rgba(255,255,255,0) 5px,
      rgba(255,255,255,0) 10px
    );
    z-index: -1;
  }
</style>